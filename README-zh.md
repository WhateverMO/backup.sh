中文 | [English](README.md)

文件夹同步备份系统

一个极简、零依赖的文件夹同步系统，采用纯增量备份策略。

核心原则

这是一个单向备份系统：
• ✅ 复制：将源目录的新文件复制到目标目录

• ✅ 更新：将源目录的已更改文件更新到目标目录

• ❌ 不删除：不会从目标目录删除文件（即使源目录已删除）

• ❌ 不同步删除：任何方向的删除操作都不会同步

各脚本使用场景

1. sync.sh - 单次同步

适用场景：想手动运行一次备份
./sync.sh

• 执行 sync.conf 中定义的所有同步任务

• 遵守频率设置

• 输出到 sync.log

2. daemon.sh - 持续后台同步

适用场景：登录期间需要自动备份
./daemon.sh           # 前台运行
nohup ./daemon.sh &   # 后台运行

• 每60秒运行一次 sync.sh

• 持续运行直到手动停止

• 适合开发/测试环境

3. install-cron.sh - 永久定时同步

适用场景：需要可靠的计划备份（推荐生产使用）
./install-cron.sh

• 添加每分钟运行的定时任务

• 即使登出也会继续运行

• 生产环境最可靠

4. uninstall-cron.sh - 取消定时同步

适用场景：想停止自动备份
./uninstall-cron.sh

• 移除定时任务

• 不会删除已备份的文件

快速开始

1. 创建配置文件 (sync.conf)：

   /源目录路径:/目标目录路径:1h

2. 测试一次：
   ./sync.sh
   tail -f sync.log

3. 设置自动化（二选一）：
   ./daemon.sh &       # 临时使用
   ./install-cron.sh   # 永久使用

重要说明

• 纯增量备份：永远不会从备份目录删除文件

• 查看日志：sync.log 显示同步详情

• 状态存储：.sync_state/ 记录最后同步时间

• 备份位置：data/ 目录（相对路径）或您配置的路径
